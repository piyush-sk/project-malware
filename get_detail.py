import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import joblib 
import csv
import os
import glob
from androguard.core.bytecodes.dvm import DalvikVMFormat
from androguard.core.analysis.analysis import Analysis
from androguard.decompiler.decompiler import DecompilerDAD
from androguard.core.bytecodes.apk import APK
from androguard.core.analysis import analysis
from androguard.core.bytecodes import dvm
def fetch_detail(file) :
    app =APK(file)
    name, sdk, size = 'unknown', 'unknown', 'unknown'
    name, sdk, size = meta_fetch(file)
    return  name, sdk, size

def meta_fetch(apk):
    app = APK(apk)
    return app.get_app_name(), app.get_target_sdk_version(), str(round(os.stat(apk).st_size / (1024 * 1024), 2)) + ' MB'